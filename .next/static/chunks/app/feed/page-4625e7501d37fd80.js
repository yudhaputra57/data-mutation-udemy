(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[826,931],{5377:function(e,t,n){Promise.resolve().then(n.bind(n,9369))},9369:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(3827),s=n(4090);function r(){return(0,i.jsx)("button",{className:"like-button",children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,i.jsx)("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"})})})}n(5355);var c=n(3472),l=(0,c.$)("e50433a13ec14c5155a49fa58812d8ea6656ab04");function a(e){var t;let{post:n,action:s}=e;return(0,i.jsxs)("article",{className:"post",children:[(0,i.jsx)("div",{className:"post-image",children:(0,i.jsx)("img",{src:n.image,alt:n.title})}),(0,i.jsxs)("div",{className:"post-content",children:[(0,i.jsxs)("header",{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:n.title}),(0,i.jsxs)("p",{children:["Shared by ",n.userFirstName," on"," ",(0,i.jsx)("time",{dateTime:n.createdAt,children:(t=n.createdAt,new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(new Date(t)))})]})]}),(0,i.jsx)("div",{children:(0,i.jsx)("form",{action:s.bind(null,n.id),className:n.isLiked?"liked":"",children:(0,i.jsx)(r,{})})})]}),(0,i.jsx)("p",{children:n.content})]})]})}function d(e){let{posts:t}=e,[n,r]=(0,s.useOptimistic)(t,(e,t)=>{let n=e.findIndex(e=>e.id===t);if(-1===n)return e;let i={...e[n]};i.likes=i.likes+(i.isLiked?-1:1),i.isLiked=!i.isLiked;let s=[...e];return s[n]=i,s});if(!n||0===n.length)return(0,i.jsx)("p",{children:"There are no posts yet. Maybe start sharing some?"});async function c(e){r(e),await l(e)}return(0,i.jsx)("ul",{className:"posts",children:t.map(e=>(0,i.jsx)("li",{children:(0,i.jsx)(a,{post:e,action:c})},e.id))})}(0,c.$)("f1deef3ab23e5f43b709f8f65b708c4560ba6bc9")},3472:function(e,t,n){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return s}});let i=n(5355);function s(e){let{createServerReference:t}=n(7355);return t(e,i.callServer)}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=5377)}),_N_E=e.O()}]);